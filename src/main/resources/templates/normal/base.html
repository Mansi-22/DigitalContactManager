<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="Layout(content)">
<head>
  	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title th:text="${title}">Base html</title>
    
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" 
    rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    
    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" 
    referrerpolicy="no-referrer" />
    
    <!-- our css file in style.css -->
	<link rel="stylesheet" th:href = "@{/css/style.css}"/>
    
</head>
<body class="banner">
  
    <!-- navbaar -->
    <div >
    	<div class="fixed-top navbar-dashboard text-uppercase" >
            <div>
                <a class="for_a"  href="#">Digital Contact Manager</a>
            </div> 
            <nav>
                 <ul id='MenuItems'>
                    <li><a th:href="@{/}" href="#">HOME</a></li>
                    <li><a href= "#" th:text="${user.name}" ></a>
                    <li><a th:href="@{/logout}"  href="#">LOGOUT</a></li>   
                 </ul>
            </nav>
         </div> 
	</div>
    <!-- end navbaar --> 
     
	<!-- Sidebaar -->
    <div class = "sidebar mt-2" style="background-color:#a7692333">
    	<span onclick="toggleSidebar()" class="crossBtn"> &times;</span>
        <a href="#" th:href ="@{/user/index}" class="item"> <i class="fa-solid fa-house"></i> Home</a>
        <a href="#" th:href ="@{/user/show-contacts/0}" class="item"><i class="fa-sharp fa-solid fa-id-card-clip"></i> View Contact</a>
        <a href="#" th:href="@{/user/add-contact}" class="item"><i class="fa-solid fa-pencil"></i> Add Contact</a>
        <a href="#" th:href="@{/user/profile}"  class="item"><i class="fa-solid fa-user"></i> Your Profile</a>
        <a href="#" class="item"><i class="fa-solid fa-gear"></i> Settings</a>
        <a href="#" th:href="@{/logout}" class="item"><i class="fa-sharp fa-solid fa-right-from-bracket"></i> Logout</a>
        <div class="divider"></div>
    </div>
    <!-- end sidebaar -->
    
    <div class= "content mt-5">
    	<i onclick="toggleSidebar()" class = "fas fa-bars m-3"></i> 
    	
    	<!--message box-->
    	<div th:if="${session.message}" class= "container">
    		<div th:classappend="${'alert-'+session.message.type}" class="alert  text-center" role="alert">
  				<span th:text= "${session.message.content}" ></span>
			</div>
			<th:block th:text="${@sessionHelper.removeMessageFromSession()}"></th:block> 
		</div>	
        <div th:replace="${content}"></div>
    </div>
       
    <!-- bootstrap js  -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" 
	integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" 
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" 
    integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" 
    integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
    <!-- sweetalert -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
    function deleteContact(cid){
    	swal({
    		  title: "Are you sure?",
    		  text: "Do you want to delete this contact?",
    		  icon: "warning",
    		  buttons: true,
    		  dangerMode: true,
    		})
    		.then((willDelete) => {
    		  if (willDelete) {
    		    window.location="/user/delete/" +cid;
    		  } else {
    		    swal("Your contact is safe!");
    		  }
    		});
    }
    </script>
    
    
    <!--  my js  -->
   	<script th:src="@{/js/script.js}"></script>
   	
</body>
</html>
  